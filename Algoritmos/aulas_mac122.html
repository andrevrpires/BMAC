<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1252">
  <link href="aulas_mac122_files/shCore.css" rel="stylesheet" type="text/css">
  <link href="aulas_mac122_files/shThemeDefault.css" rel="stylesheet" type="text/css">

<style>
  body {
		margin-top: 100px;
		margin-right: 40px;
		margin-bottom: 10px;
		margin-left: 70px;
	}
#rcorners1 {
    border-radius: 25px;
    background: #FFFFFF;
    border: 2px solid #CCDDDD;
    padding: 20px; 
}

#rcorners2 {
    border-radius: 25px;
    background: #CCFFCC;
    border: 2px solid #73AD21;
    padding: 20px; 
}
</style>
</head>

<body>

<h1>MAC122 - Princípios de Desenvolvimento de Algoritmos</h1>

<div id="rcorners2">
<h2 id="A1">Introdução</h2>

<a href="http://www.vision.ime.usp.br/~pmiranda/mac122_2s18/page/variaveis.pdf">Slides</a>
</div>

<p>

</p><div id="rcorners2">
<h2 id="A2">Revisão sobre linguagem C</h2>

<a href="http://www.vision.ime.usp.br/~pmiranda/mac122_2s18/page/strings.pdf">Slides</a>


<h3>Exercícios resolvidos sobre Strings:</h3>


<div id="rcorners1">
<h3>Problema 1:</h3>

Faça um programa que lê uma
linha de texto em uma string (sequência de 
caracteres terminada por '\0') e que 
conta o número de ocorrências de cada letra do alfabeto.

<p>
<b>Solução:</b>
</p><p>


  </p><div><div id="highlighter_407930" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c preprocessor">#include &lt;stdio.h&gt;</code></div><div class="line number2 index1 alt1"><code class="c preprocessor">#define LIM 500</code></div><div class="line number3 index2 alt2"><code class="c preprocessor">#define NLETRAS ('z'-'a'+1)</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="c color1 bold">int</code> <code class="c plain">main(){</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">texto[LIM];</code></div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">freq[NLETRAS];</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">i;</code></div><div class="line number9 index8 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">c;</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Lê uma linha de texto */</code></div><div class="line number12 index11 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">scanf</code><code class="c plain">(</code><code class="c string">"%[^\n]"</code><code class="c plain">, texto);</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Inicializa com 0 o vetor de contadores */</code></div><div class="line number15 index14 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">for</code><code class="c plain">(i = 0; i &lt; NLETRAS; i++)</code></div><div class="line number16 index15 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">freq[i] = 0;</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Percorre a string, contando a frequência das letras */</code></div><div class="line number19 index18 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">i = 0;</code></div><div class="line number20 index19 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(texto[i] != </code><code class="c string">'\0'</code><code class="c plain">){</code></div><div class="line number21 index20 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">c = texto[i];</code></div><div class="line number22 index21 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c comments">/* Identifica letras minúsculas */</code></div><div class="line number23 index22 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(c &gt;= </code><code class="c string">'a'</code> <code class="c plain">&amp;&amp; c &lt;= </code><code class="c string">'z'</code><code class="c plain">)</code></div><div class="line number24 index23 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">freq[c - </code><code class="c string">'a'</code><code class="c plain">]++;</code></div><div class="line number25 index24 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c comments">/* Identifica letras maiúsculas */</code></div><div class="line number26 index25 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">else</code> <code class="c keyword bold">if</code><code class="c plain">(c &gt;= </code><code class="c string">'A'</code> <code class="c plain">&amp;&amp; c &lt;= </code><code class="c string">'Z'</code><code class="c plain">)</code></div><div class="line number27 index26 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">freq[c - </code><code class="c string">'A'</code><code class="c plain">]++;</code></div><div class="line number28 index27 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">i++;</code></div><div class="line number29 index28 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number30 index29 alt1">&nbsp;</div><div class="line number31 index30 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Imprime a frequência das letras com contagem não nula */</code></div><div class="line number32 index31 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">for</code><code class="c plain">(i = 0; i &lt; NLETRAS; i++){</code></div><div class="line number33 index32 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(freq[i] &gt; 0)</code></div><div class="line number34 index33 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"letra: %c, freq: %d\n"</code><code class="c plain">, </code><code class="c string">'a'</code><code class="c plain">+i, freq[i]);</code></div><div class="line number35 index34 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number36 index35 alt1"><code class="c spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number37 index36 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">0;</code></div><div class="line number38 index37 alt1"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>

<p>

</p><div id="rcorners1">
<h3>Problema 2:</h3>

Cebolinha é um personagem de história em quadrinhos que quando falava, 
trocava o "r" pelo "l" (problema conhecido como dislalia). 
Faça um programa que gera uma versão de um texto fornecido com todos "r"
 e "rr" trocados por "l", exceto no caso em que o "r" ocorre no final de
 uma palavra.
<p>
<img src="aulas_mac122_files/cebolinha.png" alt="cebola_fig1" style="height:200px;">

</p><p>
<b>Solução:</b>
</p><p>


  </p><div><div id="highlighter_269977" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c preprocessor">#include &lt;stdio.h&gt;</code></div><div class="line number2 index1 alt1"><code class="c preprocessor">#include &lt;string.h&gt;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="c color1 bold">int</code> <code class="c plain">main(){</code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">str[] = </code><code class="c string">"e chega de disputar essa rua com a monica, eu poderei comprar ruas, bairros inteiros"</code><code class="c plain">;</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">dest[500];</code></div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">i, j, n;</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">c;</code></div><div class="line number9 index8 alt2"><code class="c spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">j = 0;</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">n = </code><code class="c functions bold">strlen</code><code class="c plain">(str);</code></div><div class="line number12 index11 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">for</code><code class="c plain">(i = 0; i &lt; n; i++){</code></div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(str[i] == </code><code class="c string">'r'</code> <code class="c plain">&amp;&amp; str[i+1] &gt;= </code><code class="c string">'a'</code> <code class="c plain">&amp;&amp; str[i+1] &lt;= </code><code class="c string">'z'</code><code class="c plain">){</code></div><div class="line number14 index13 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">c = </code><code class="c string">'l'</code><code class="c plain">;</code></div><div class="line number15 index14 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(str[i+1] == </code><code class="c string">'r'</code><code class="c plain">)</code></div><div class="line number16 index15 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">i++;</code></div><div class="line number17 index16 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number18 index17 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">else</code></div><div class="line number19 index18 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">c = str[i];</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">dest[j] = c;</code></div><div class="line number22 index21 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">j++;</code></div><div class="line number23 index22 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number24 index23 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">dest[j] = </code><code class="c string">'\0'</code><code class="c plain">;</code></div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"%s\n"</code><code class="c plain">, dest);</code></div><div class="line number27 index26 alt2"><code class="c spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number28 index27 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">0;</code></div><div class="line number29 index28 alt2"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>



<h3>Exercícios resolvidos sobre Funções &amp; Strings:</h3>

Implemente as funções especificadas abaixo,
usando apenas funções auxiliares que tiver implementado (sem utilizar as funções do &lt;string.h&gt;).
Por questões de simplicidade, assuma o padrão ASCII.

<div id="rcorners1">
<h3>1) <code>void InverteString(char str[]);</code></h3>
Altera a <u>própria</u> string <b>str</b> de modo que ela fica invertida.<br>
<b>Exemplo:</b> Se inicialmente temos:<br>
&nbsp;&nbsp;&nbsp;&nbsp;<b>str="PAMELA SILVA"</b>, no final teremos:<br>
&nbsp;&nbsp;&nbsp;&nbsp;<b>"AVLIS ALEMAP"</b> em <b>str</b>.


  <div><div id="highlighter_404164" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c comments">/* função auxiliar */</code></div><div class="line number2 index1 alt1"><code class="c color1 bold">int</code> <code class="c plain">TamanhoString(</code><code class="c color1 bold">char</code> <code class="c plain">str[]){</code></div><div class="line number3 index2 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">i = 0;</code></div><div class="line number4 index3 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(str[i] != </code><code class="c string">'\0'</code><code class="c plain">){</code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">i++;</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">i;</code></div><div class="line number8 index7 alt1"><code class="c plain">}</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="c keyword bold">void</code> <code class="c plain">InverteString(</code><code class="c color1 bold">char</code> <code class="c plain">str[]) {</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">i,j;</code></div><div class="line number12 index11 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">tmp;</code></div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number14 index13 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">j = TamanhoString(str) - 1;</code></div><div class="line number15 index14 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">i = 0;</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code> <code class="c plain">(i &lt; j) {</code></div><div class="line number18 index17 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">tmp = str[i];</code></div><div class="line number19 index18 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">str[i] = str[j];</code></div><div class="line number20 index19 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">str[j] = tmp;</code></div><div class="line number21 index20 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">i++;</code></div><div class="line number22 index21 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">j--;</code></div><div class="line number23 index22 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number24 index23 alt1"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>

<p>

</p><div id="rcorners1">
<h3>2) <code>void InvertePalavras(char str[]);</code></h3>

Altera a <u>própria</u> string <b>str</b> de modo que todas as suas palavras individualmente ficam invertidas.<br>
<b>Exemplo:</b> Se inicialmente temos:<br>
&nbsp;&nbsp;&nbsp;&nbsp;<b>str="PAMELA SILVA"</b>, no final teremos:<br>
&nbsp;&nbsp;&nbsp;&nbsp;<b>"ALEMAP AVLIS"</b> em <b>str</b>.

  <div><div id="highlighter_82679" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c comments">/* função auxiliar */</code></div><div class="line number2 index1 alt1"><code class="c keyword bold">void</code> <code class="c plain">InverteSubString(</code><code class="c color1 bold">char</code> <code class="c plain">str[], </code><code class="c color1 bold">int</code> <code class="c plain">i, </code><code class="c color1 bold">int</code> <code class="c plain">j){</code></div><div class="line number3 index2 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">tmp;</code></div><div class="line number4 index3 alt1"><code class="c spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code> <code class="c plain">(i &lt; j) {</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">tmp = str[i];</code></div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">str[i] = str[j];</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">str[j] = tmp;</code></div><div class="line number9 index8 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">i++;</code></div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">j--;</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number12 index11 alt1"><code class="c plain">}</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="c keyword bold">void</code> <code class="c plain">InvertePalavras(</code><code class="c color1 bold">char</code> <code class="c plain">str[]){</code></div><div class="line number15 index14 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">i, j;</code></div><div class="line number16 index15 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">i = 0;</code></div><div class="line number17 index16 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">do</code> <code class="c plain">{</code></div><div class="line number18 index17 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(str[i] == </code><code class="c string">' '</code><code class="c plain">) i++;</code></div><div class="line number19 index18 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">j = i;</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(str[j] != </code><code class="c string">'\0'</code> <code class="c plain">&amp;&amp; str[j] != </code><code class="c string">' '</code><code class="c plain">) j++;</code></div><div class="line number22 index21 alt1">&nbsp;</div><div class="line number23 index22 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">j = j - 1;</code></div><div class="line number24 index23 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(i &lt; j) InverteSubString(str, i, j);</code></div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">i = j + 1;</code></div><div class="line number27 index26 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">} </code><code class="c keyword bold">while</code> <code class="c plain">(str[i] != </code><code class="c string">'\0'</code><code class="c plain">);</code></div><div class="line number28 index27 alt1"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>

<p>

</p><div id="rcorners1">
<h3>3) <code>void ReduzEspacos(char dest[], char orig[]);</code></h3>

Gera em <b>dest</b> uma cópia de <b>orig</b> porém eliminando o excesso de espaços em branco, de modo
que todas as sequências de espaços em branco consecutivos são convertidas em um único
caracter de espaço. Assuma que o vetor <b>dest</b> é grande o suficiente para conter o resultado.<br>
<b>Exemplo:</b> Se inicialmente temos:<br>
&nbsp;&nbsp;&nbsp;&nbsp;<b>orig = " &nbsp;&nbsp;&nbsp;&nbsp;Problema &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;de &nbsp;&nbsp;&nbsp;&nbsp;Strings&nbsp; "</b>, no final teremos:<br>
&nbsp;&nbsp;&nbsp;&nbsp;<b>dest = " Problema de Strings "</b>.

  <div><div id="highlighter_382341" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c keyword bold">void</code> <code class="c plain">ReduzEspacos(</code><code class="c color1 bold">char</code> <code class="c plain">dest[], </code><code class="c color1 bold">char</code> <code class="c plain">orig[]){</code></div><div class="line number2 index1 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">i, j;</code></div><div class="line number3 index2 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">t;</code></div><div class="line number4 index3 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">i = 0;</code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">j = 0;</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(orig[i] != </code><code class="c string">'\0'</code><code class="c plain">){</code></div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(orig[i] != </code><code class="c string">' '</code><code class="c plain">){</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">t = orig[i];</code></div><div class="line number9 index8 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">i++;</code></div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">else</code> <code class="c plain">{</code></div><div class="line number12 index11 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">t = orig[i];</code></div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(orig[i] == </code><code class="c string">' '</code><code class="c plain">) i++;</code></div><div class="line number14 index13 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number15 index14 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">dest[j] = t;</code></div><div class="line number16 index15 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">j++;</code></div><div class="line number17 index16 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number18 index17 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">dest[j] = </code><code class="c string">'\0'</code><code class="c plain">;</code></div><div class="line number19 index18 alt2"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>

<p>

</p><div id="rcorners1">
<h3>4) <code>void ProcuraEmail(char dest[], char orig[]);</code></h3>

Busca em <b>orig</b> por possíveis candidatos a endereços de e-mail. Copia em <b>dest</b> a primeira
sequência de caracteres não brancos encontrada que contenha o caractere <b>'@'</b>, ou uma string vazia caso contrário.
Assuma que o vetor <b>dest</b> é grande o suficiente para conter a palavra encontrada.<br>
<b>Exemplo:</b><br>
Para <b>orig="Enviar mensagem para lucas@ig.com.br ou para outro moderador"</b><br>
temos <b>"lucas@ig.com.br"</b> que ficará em <b>dest</b>.

  <div><div id="highlighter_988013" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c comments">/* função auxiliar */</code></div><div class="line number2 index1 alt1"><code class="c keyword bold">void</code> <code class="c plain">CopiaSubString(</code><code class="c color1 bold">char</code> <code class="c plain">dest[], </code><code class="c color1 bold">char</code> <code class="c plain">orig[],</code></div><div class="line number3 index2 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">inic, </code><code class="c color1 bold">int</code> <code class="c plain">fim){</code></div><div class="line number4 index3 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">i,j;</code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">j = 0;</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">for</code><code class="c plain">(i = inic; i &lt;= fim; i++){</code></div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">dest[j] = orig[i];</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">j++;</code></div><div class="line number9 index8 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">dest[j] = </code><code class="c string">'\0'</code><code class="c plain">;</code></div><div class="line number11 index10 alt2"><code class="c plain">}</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="c keyword bold">void</code> <code class="c plain">BuscaEmail(</code><code class="c color1 bold">char</code> <code class="c plain">dest[], </code><code class="c color1 bold">char</code> <code class="c plain">orig[]){</code></div><div class="line number14 index13 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">i,inic,fim;</code></div><div class="line number15 index14 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Procura índice do caractere '@'*/</code></div><div class="line number16 index15 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">i = 0;</code></div><div class="line number17 index16 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(orig[i] != </code><code class="c string">'\0'</code><code class="c plain">){</code></div><div class="line number18 index17 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(orig[i] == </code><code class="c string">'@'</code><code class="c plain">)</code></div><div class="line number19 index18 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">break</code><code class="c plain">;</code></div><div class="line number20 index19 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">i++;</code></div><div class="line number21 index20 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number22 index21 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Nenhum email encontrado */</code></div><div class="line number23 index22 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(orig[i] == </code><code class="c string">'\0'</code><code class="c plain">){</code></div><div class="line number24 index23 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">dest[0] = </code><code class="c string">'\0'</code><code class="c plain">;</code></div><div class="line number25 index24 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">return</code><code class="c plain">;</code></div><div class="line number26 index25 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number27 index26 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">inic = fim = i;</code></div><div class="line number28 index27 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(inic &gt; 0){</code></div><div class="line number29 index28 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(orig[inic-1] == </code><code class="c string">' '</code><code class="c plain">) </code><code class="c keyword bold">break</code><code class="c plain">;</code></div><div class="line number30 index29 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">inic--;</code></div><div class="line number31 index30 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number32 index31 alt1">&nbsp;</div><div class="line number33 index32 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(orig[fim+1] != </code><code class="c string">' '</code> <code class="c plain">&amp;&amp; orig[fim+1] != </code><code class="c string">'\0'</code><code class="c plain">)</code></div><div class="line number34 index33 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">fim++;</code></div><div class="line number35 index34 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">CopiaSubString(dest, orig, inic, fim);</code></div><div class="line number36 index35 alt1"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>

<p>

</p><div id="rcorners1">
<h3>Exemplo de função principal main:</h3>

  <div><div id="highlighter_878373" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c preprocessor">#include &lt;stdio.h&gt;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="c comments">/* Inserir nesse ponto o código das funções anteriores */</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="c color1 bold">int</code> <code class="c plain">main(){</code></div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">str1[] = </code><code class="c string">"PAMELA SILVA"</code><code class="c plain">;</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">str2[] = </code><code class="c string">"PAMELA SILVA"</code><code class="c plain">;</code></div><div class="line number9 index8 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">str3[] = </code><code class="c string">"Enviar mensagem para lucas@ig.com.br ou para outro moderador"</code><code class="c plain">;</code></div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">email[500];</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">B[500];</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">InverteString(str1);</code></div><div class="line number14 index13 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"%s.\n"</code><code class="c plain">, str1);</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">InvertePalavras(str2);</code></div><div class="line number17 index16 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"%s.\n"</code><code class="c plain">, str2);</code></div><div class="line number18 index17 alt1">&nbsp;</div><div class="line number19 index18 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">ReduzEspacos(B, </code><code class="c string">"&nbsp;&nbsp;&nbsp;&nbsp; Problema&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; de&nbsp;&nbsp;&nbsp;&nbsp; Strings&nbsp; "</code><code class="c plain">);</code></div><div class="line number20 index19 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"%s.\n"</code><code class="c plain">, B);</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">BuscaEmail(email, str3);</code></div><div class="line number23 index22 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"Email: %s.\n"</code><code class="c plain">,email);</code></div><div class="line number24 index23 alt1"><code class="c spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number25 index24 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">0;</code></div><div class="line number26 index25 alt1"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>
</div>

<p>

</p><div id="rcorners2">
<h2 id="A3">Ponteiros</h2>

<a href="http://www.vision.ime.usp.br/~pmiranda/mac122_2s18/page/ponteiros.pdf">Slides</a>
</div>

<p>

</p><div id="rcorners2">
<h2 id="A4">Alocação dinâmica de memória</h2>

<a href="http://www.vision.ime.usp.br/~pmiranda/mac122_2s18/page/aloc_dina_mem.pdf">Slides</a>


<h3>Exercícios resolvidos sobre Alocação Dinâmica de memória:</h3>

<div id="rcorners1">
Escreva um programa que leia um número inteiro positivo n
seguido de n números inteiros e imprima esses n números
em ordem invertida. Por exemplo, ao receber
<pre>5 22 33 44 55 88
</pre>
o seu programa deve imprimir:
<pre>88 55 44 33 22
</pre>
O programa não deve impor limitações sobre o valor de n.

  <div><div id="highlighter_784874" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c preprocessor">#include &lt;stdio.h&gt;</code></div><div class="line number2 index1 alt1"><code class="c preprocessor">#include &lt;stdlib.h&gt;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="c color1 bold">int</code> <code class="c plain">main() {</code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">n, i, num;</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">*vet = NULL;</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/*Lê o tamanho do vetor.*/</code></div><div class="line number9 index8 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">scanf</code><code class="c plain">(</code><code class="c string">"%d"</code><code class="c plain">, &amp;n);</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/*Aloca um vetor com n inteiros (n*4 bytes) na heap. </code></div><div class="line number12 index11 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c comments">O endereço do vetor alocado fica armazenado</code></div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c comments">no apontador "vet". */</code></div><div class="line number14 index13 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">vet = (</code><code class="c color1 bold">int</code> <code class="c plain">*)</code><code class="c functions bold">malloc</code><code class="c plain">(n*</code><code class="c keyword bold">sizeof</code><code class="c plain">(</code><code class="c color1 bold">int</code><code class="c plain">));</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/*Lê "n" números da entrada padrão (teclado), </code></div><div class="line number17 index16 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c comments">e preenche o vetor alocado. */</code></div><div class="line number18 index17 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">for</code> <code class="c plain">(i = 0; i &lt; n; i++) {</code></div><div class="line number19 index18 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">scanf</code><code class="c plain">(</code><code class="c string">"%d"</code><code class="c plain">, &amp;num);</code></div><div class="line number20 index19 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">vet[i] = num;</code></div><div class="line number21 index20 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number22 index21 alt1">&nbsp;</div><div class="line number23 index22 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/*Imprime o vetor em ordem invertida.*/</code></div><div class="line number24 index23 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">for</code> <code class="c plain">(i = n-1; i &gt;= 0; i--)</code></div><div class="line number25 index24 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">" %d "</code><code class="c plain">,vet[i]);</code></div><div class="line number26 index25 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"\n"</code><code class="c plain">);</code></div><div class="line number27 index26 alt2">&nbsp;</div><div class="line number28 index27 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/*Libera a memória alocada do vetor.*/</code></div><div class="line number29 index28 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">free</code><code class="c plain">(vet);</code></div><div class="line number30 index29 alt1">&nbsp;</div><div class="line number31 index30 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">0;</code></div><div class="line number32 index31 alt1"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>


<h3>Exercícios resolvidos sobre Alocação Dinâmica de Matrizes &amp; Arquivos (modo texto):</h3>

<div id="rcorners1">
Faça um programa em C que:
<ol>
<li>Leia uma imagem em tons de cinza no formato PGM do arquivo <a href="http://www.vision.ime.usp.br/~pmiranda/mac122_2s18/page/lenna.pgm">lenna.pgm</a>,</li>
<li>Permute a metade superior da imagem com sua metade inferior, conforme no exemplo abaixo, e</li>
<li>Salve a imagem resultante no disco no arquivo "saida.pgm".</li>
</ol>

<table>
<tbody><tr><td><img src="aulas_mac122_files/lenna_a.png" alt="entrada" style="height:200px;"></td>
    <td><img src="aulas_mac122_files/lenna_b.png" alt="saida" style="height:200px;"></td>
</tr>
<tr><td>(a) Exemplo de imagem de entrada,</td><td>(b) imagem de saída resultante.</td></tr>
</tbody></table>

<p>
Uma explicação sobre o formato de imagem PGM pode ser encontrada <a href="http://www.vision.ime.usp.br/~pmiranda/mac122_2s18/page/pgm.pdf">aqui</a>.


</p><p>
<b>Solução:</b>
</p><p>

  </p><div><div id="highlighter_382958" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c preprocessor">#include &lt;stdio.h&gt;</code></div><div class="line number2 index1 alt1"><code class="c preprocessor">#include &lt;stdlib.h&gt;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="c color1 bold">int</code> <code class="c plain">main(){</code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">nome[120];</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">tipo[10];</code></div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">FILE</code> <code class="c plain">*fp;</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">**M;</code></div><div class="line number9 index8 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">*tmp;</code></div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">nlinhas, ncolunas, valmax, i, j;</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"Digite o nome do arquivo: "</code><code class="c plain">);</code></div><div class="line number12 index11 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">scanf</code><code class="c plain">(</code><code class="c string">"%s"</code><code class="c plain">, nome);</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Abrindo o arquivo em modo de leitura: */</code></div><div class="line number15 index14 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">fp = </code><code class="c functions bold">fopen</code><code class="c plain">(nome, </code><code class="c string">"r"</code><code class="c plain">);</code></div><div class="line number16 index15 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(fp == NULL){</code></div><div class="line number17 index16 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"Erro na leitura\n"</code><code class="c plain">);</code></div><div class="line number18 index17 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">0;</code></div><div class="line number19 index18 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Leitura do cabeçalho do arquivo: */</code></div><div class="line number22 index21 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">fscanf</code><code class="c plain">(fp, </code><code class="c string">"%s"</code><code class="c plain">, tipo);</code></div><div class="line number23 index22 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">fscanf</code><code class="c plain">(fp, </code><code class="c string">"%d %d"</code><code class="c plain">, &amp;ncolunas, &amp;nlinhas);</code></div><div class="line number24 index23 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">fscanf</code><code class="c plain">(fp, </code><code class="c string">"%d"</code><code class="c plain">, &amp;valmax);</code></div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Alocação de memória da matriz */</code></div><div class="line number27 index26 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">M = (</code><code class="c color1 bold">int</code> <code class="c plain">**)</code><code class="c functions bold">malloc</code><code class="c plain">(</code><code class="c keyword bold">sizeof</code><code class="c plain">(</code><code class="c color1 bold">int</code> <code class="c plain">*)*nlinhas);</code></div><div class="line number28 index27 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(M == NULL){</code></div><div class="line number29 index28 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"Erro ao alocar a matriz\n"</code><code class="c plain">);</code></div><div class="line number30 index29 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">0;</code></div><div class="line number31 index30 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number32 index31 alt1">&nbsp;</div><div class="line number33 index32 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">for</code><code class="c plain">(i = 0; i &lt; nlinhas; i++)</code></div><div class="line number34 index33 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">M[i] = (</code><code class="c color1 bold">int</code> <code class="c plain">*)</code><code class="c functions bold">malloc</code><code class="c plain">(</code><code class="c keyword bold">sizeof</code><code class="c plain">(</code><code class="c color1 bold">int</code><code class="c plain">)*ncolunas);</code></div><div class="line number35 index34 alt2">&nbsp;</div><div class="line number36 index35 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Preenchendo a matriz com os dados da imagem: */</code></div><div class="line number37 index36 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">for</code><code class="c plain">(i = 0; i &lt; nlinhas; i++)</code></div><div class="line number38 index37 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">for</code><code class="c plain">(j = 0; j &lt; ncolunas; j++)</code></div><div class="line number39 index38 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">fscanf</code><code class="c plain">(fp, </code><code class="c string">"%d"</code><code class="c plain">, &amp;M[i][j]);</code></div><div class="line number40 index39 alt1">&nbsp;</div><div class="line number41 index40 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">fclose</code><code class="c plain">(fp);</code></div><div class="line number42 index41 alt1">&nbsp;</div><div class="line number43 index42 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Processamento da imagem: */</code></div><div class="line number44 index43 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">for</code><code class="c plain">(i = 0; i &lt; nlinhas/2; i++){</code></div><div class="line number45 index44 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">tmp = M[i];</code></div><div class="line number46 index45 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">M[i] = M[i+nlinhas/2];</code></div><div class="line number47 index46 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">M[i+nlinhas/2] = tmp;</code></div><div class="line number48 index47 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number49 index48 alt2"><code class="c spaces">&nbsp;</code>&nbsp;</div><div class="line number50 index49 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Gravação da imagem resultante: */</code></div><div class="line number51 index50 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">fp = </code><code class="c functions bold">fopen</code><code class="c plain">(</code><code class="c string">"saida.pgm"</code><code class="c plain">, </code><code class="c string">"w"</code><code class="c plain">);</code></div><div class="line number52 index51 alt1">&nbsp;</div><div class="line number53 index52 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">fprintf</code><code class="c plain">(fp, </code><code class="c string">"P2\n"</code><code class="c plain">);</code></div><div class="line number54 index53 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">fprintf</code><code class="c plain">(fp, </code><code class="c string">"%d %d\n"</code><code class="c plain">, ncolunas, nlinhas);</code></div><div class="line number55 index54 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">fprintf</code><code class="c plain">(fp, </code><code class="c string">"%d\n"</code><code class="c plain">, valmax);</code></div><div class="line number56 index55 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">for</code><code class="c plain">(i = 0; i &lt; nlinhas; i++){</code></div><div class="line number57 index56 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">for</code><code class="c plain">(j = 0; j &lt; ncolunas; j++)</code></div><div class="line number58 index57 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">fprintf</code><code class="c plain">(fp, </code><code class="c string">"%d "</code><code class="c plain">, M[i][j]);</code></div><div class="line number59 index58 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">fprintf</code><code class="c plain">(fp, </code><code class="c string">"\n"</code><code class="c plain">);</code></div><div class="line number60 index59 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number61 index60 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">fclose</code><code class="c plain">(fp);</code></div><div class="line number62 index61 alt1">&nbsp;</div><div class="line number63 index62 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Liberar memória: */</code></div><div class="line number64 index63 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">for</code><code class="c plain">(i = 0; i &lt; nlinhas; i++)</code></div><div class="line number65 index64 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">free</code><code class="c plain">(M[i]);</code></div><div class="line number66 index65 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">free</code><code class="c plain">(M);</code></div><div class="line number67 index66 alt2"><code class="c spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number68 index67 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">0;</code></div><div class="line number69 index68 alt2"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>
  

<h3>Exercícios resolvidos sobre Alocação Dinâmica &amp; Strings:</h3>

<div id="rcorners1">
Para uma dada string, contendo uma linha de texto, faça uma função em C que separa cada palavra do
texto:<br>
A função deve devolver o endereço de um vetor de apontadores criado dinamicamente com tamanho
igual ao número de palavras do texto. Os apontadores desse vetor devem apontar para cópias das
palavras do texto. Cada cópia deve ser amazenada em um vetor alocado dinamicamente, usando a
menor quantidade de memória possível.
<p>
Use o protótipo abaixo:<br>
</p><h3><code>char **VetorDePalavras(char texto[], int *npal);</code></h3>
tal que <b>npal</b> aponta para uma variável que irá guardar o número de palavras encontradas.
<p>
<b>Exemplo:</b><br>
Para o texto de entrada: <b>"A primeira Guerra Mundial &nbsp;&nbsp; completa 100 anos em 2014"</b>,
no final teremos os seguintes vetores alocados:<br>
<img src="aulas_mac122_files/vetorpal.png" alt="" width="500">

  </p><div><div id="highlighter_73484" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c preprocessor">#include &lt;stdio.h&gt;</code></div><div class="line number2 index1 alt1"><code class="c preprocessor">#include &lt;stdlib.h&gt;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="c color1 bold">char</code> <code class="c plain">**ListaPalavras(</code><code class="c color1 bold">char</code> <code class="c plain">texto[], </code><code class="c color1 bold">int</code> <code class="c plain">*npalavras){</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">**L = NULL;</code></div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">i,j,tam,npal,inic;</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">*pal;</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Conta o número de palavras. */</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">i = 0;</code></div><div class="line number12 index11 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">npal = 0;</code></div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(texto[i] != </code><code class="c string">'\0'</code><code class="c plain">){</code></div><div class="line number14 index13 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(texto[i] == </code><code class="c string">' '</code><code class="c plain">)</code></div><div class="line number15 index14 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">i++;</code></div><div class="line number16 index15 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(texto[i] != </code><code class="c string">'\0'</code><code class="c plain">){</code></div><div class="line number17 index16 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">npal++;</code></div><div class="line number18 index17 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(texto[i] != </code><code class="c string">' '</code> <code class="c plain">&amp;&amp; texto[i] != </code><code class="c string">'\0'</code><code class="c plain">)</code></div><div class="line number19 index18 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">i++;</code></div><div class="line number20 index19 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number21 index20 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number22 index21 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">*npalavras = npal;</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Aloca o vetor de apontadores. */</code></div><div class="line number25 index24 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">L = (</code><code class="c color1 bold">char</code> <code class="c plain">**)</code><code class="c functions bold">malloc</code><code class="c plain">(npal*</code><code class="c keyword bold">sizeof</code><code class="c plain">(</code><code class="c color1 bold">char</code> <code class="c plain">*));</code></div><div class="line number26 index25 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(L == NULL){</code></div><div class="line number27 index26 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"Memoria insuficiente.\n"</code><code class="c plain">);</code></div><div class="line number28 index27 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">exit</code><code class="c plain">(1);</code></div><div class="line number29 index28 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number30 index29 alt1">&nbsp;</div><div class="line number31 index30 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">i = 0;</code></div><div class="line number32 index31 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">j = 0;</code></div><div class="line number33 index32 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(texto[i] != </code><code class="c string">'\0'</code><code class="c plain">){</code></div><div class="line number34 index33 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(texto[i] == </code><code class="c string">' '</code><code class="c plain">)</code></div><div class="line number35 index34 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">i++;</code></div><div class="line number36 index35 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">inic = i;</code></div><div class="line number37 index36 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(texto[i] != </code><code class="c string">' '</code> <code class="c plain">&amp;&amp; texto[i] != </code><code class="c string">'\0'</code><code class="c plain">)</code></div><div class="line number38 index37 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">i++;</code></div><div class="line number39 index38 alt2">&nbsp;</div><div class="line number40 index39 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">tam = i - inic;</code></div><div class="line number41 index40 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(tam &gt; 0){</code></div><div class="line number42 index41 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">pal = (</code><code class="c color1 bold">char</code> <code class="c plain">*)</code><code class="c functions bold">malloc</code><code class="c plain">(</code><code class="c keyword bold">sizeof</code><code class="c plain">(</code><code class="c color1 bold">char</code><code class="c plain">)*(tam+1));</code></div><div class="line number43 index42 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(pal == NULL){</code></div><div class="line number44 index43 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"Memoria insuficiente.\n"</code><code class="c plain">);</code></div><div class="line number45 index44 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">exit</code><code class="c plain">(1);</code></div><div class="line number46 index45 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number47 index46 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">L[j] = pal;</code></div><div class="line number48 index47 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">i = inic;</code></div><div class="line number49 index48 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(texto[i] != </code><code class="c string">' '</code> <code class="c plain">&amp;&amp; texto[i] != </code><code class="c string">'\0'</code><code class="c plain">){</code></div><div class="line number50 index49 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">pal[i-inic] = texto[i];</code></div><div class="line number51 index50 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">i++;</code></div><div class="line number52 index51 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number53 index52 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">pal[i-inic] = </code><code class="c string">'\0'</code><code class="c plain">;</code></div><div class="line number54 index53 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">j++;</code></div><div class="line number55 index54 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number56 index55 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number57 index56 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">L;</code></div><div class="line number58 index57 alt1"><code class="c plain">}</code></div><div class="line number59 index58 alt2">&nbsp;</div><div class="line number60 index59 alt1"><code class="c color1 bold">int</code> <code class="c plain">main(){</code></div><div class="line number61 index60 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">texto[] = </code><code class="c string">"A&nbsp; primeira Guerra Mundial&nbsp;&nbsp;&nbsp; completa 100 anos&nbsp;&nbsp;&nbsp; em 2014"</code><code class="c plain">;</code></div><div class="line number62 index61 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">**L;</code></div><div class="line number63 index62 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">n,i;</code></div><div class="line number64 index63 alt1">&nbsp;</div><div class="line number65 index64 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">L = ListaPalavras(texto, &amp;n);</code></div><div class="line number66 index65 alt1">&nbsp;</div><div class="line number67 index66 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"Lista de palavras:\n"</code><code class="c plain">);</code></div><div class="line number68 index67 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">for</code><code class="c plain">(i = 0; i &lt; n; i++){</code></div><div class="line number69 index68 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"%s.\n"</code><code class="c plain">,L[i]);</code></div><div class="line number70 index69 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number71 index70 alt2">&nbsp;</div><div class="line number72 index71 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Libera memória */</code></div><div class="line number73 index72 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">for</code><code class="c plain">(i = 0; i &lt; n; i++){ </code></div><div class="line number74 index73 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">free</code><code class="c plain">(L[i]);</code></div><div class="line number75 index74 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number76 index75 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">free</code><code class="c plain">(L);</code></div><div class="line number77 index76 alt2">&nbsp;</div><div class="line number78 index77 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">0;</code></div><div class="line number79 index78 alt2"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>

</div>


<p>

</p><div id="rcorners2">
<h2 id="A5">Estruturas/registros</h2>

<a href="http://www.vision.ime.usp.br/~pmiranda/mac122_2s18/page/registros.pdf">Slides</a>


<h3>Exercícios resolvidos sobre Estruturas &amp; Arquivos (modo texto)</h3>


<div id="rcorners1">
<h3>Problema 1a:</h3>

Um triângulo pode ser representado pelas coordenadas 
reais (float) dos seus três vértices
<b>(Xa, Ya)</b>, <b>(Xb, Yb)</b>, e <b>(Xc, Yc)</b>. 
Escreva uma possível definição em C para as estruturas
de um vértice e de um triângulo, e implemente as seguintes 
funções em C:<br>

<h3><code>float Distancia(struct Vertice A, struct Vertice B);</code></h3>
Calcula a distância euclidiana entre os vértices (pontos) A e B.<br>
<u>OBS:</u> Use a função <code>float sqrtf(float x);</code> para calcular a raiz quadrada.<p>


</p><h3><code>float Perimetro(struct Triangulo T);</code></h3>
Calcula o perímetro do triângulo T.<p>


</p><p>
<b>Solução:</b>
</p><p>

    
  </p><div><div id="highlighter_609731" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c preprocessor">#include &lt;stdio.h&gt;</code></div><div class="line number2 index1 alt1"><code class="c preprocessor">#include &lt;stdlib.h&gt;</code></div><div class="line number3 index2 alt2"><code class="c preprocessor">#include &lt;math.h&gt;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="c keyword bold">struct</code> <code class="c plain">Vertice{</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">float</code> <code class="c plain">x;</code></div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">float</code> <code class="c plain">y;</code></div><div class="line number8 index7 alt1"><code class="c plain">};</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="c keyword bold">struct</code> <code class="c plain">Triangulo{</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">Vertice A;</code></div><div class="line number12 index11 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">Vertice B;</code></div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">Vertice C;</code></div><div class="line number14 index13 alt1"><code class="c plain">};</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="c color1 bold">float</code> <code class="c plain">Distancia(</code><code class="c keyword bold">struct</code> <code class="c plain">Vertice A, </code><code class="c keyword bold">struct</code> <code class="c plain">Vertice B){</code></div><div class="line number17 index16 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">float</code> <code class="c plain">dx, dy, d;</code></div><div class="line number18 index17 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">dx = (B.x - A.x);</code></div><div class="line number19 index18 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">dy = (B.y - A.y);</code></div><div class="line number20 index19 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">d = sqrtf(dx*dx + dy*dy);</code></div><div class="line number21 index20 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">d;</code></div><div class="line number22 index21 alt1"><code class="c plain">}</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1">&nbsp;</div><div class="line number25 index24 alt2"><code class="c color1 bold">float</code> <code class="c plain">Perimetro(</code><code class="c keyword bold">struct</code> <code class="c plain">Triangulo T){</code></div><div class="line number26 index25 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">float</code> <code class="c plain">d = 0.0;</code></div><div class="line number27 index26 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">d += Distancia(T.A, T.B);</code></div><div class="line number28 index27 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">d += Distancia(T.A, T.C);</code></div><div class="line number29 index28 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">d += Distancia(T.B, T.C);</code></div><div class="line number30 index29 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">d;</code></div><div class="line number31 index30 alt2"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>

<p>

</p><div id="rcorners1">
<h3>Problema 1b:</h3>
  
Dado um arquivo texto "entrada.txt" que possui em sua primeira 
linha um inteiro que indica a quantidade de triângulos e nas 
demais linhas os dados dos triângulos (um triângulo por linha 
segundo o formato: <b>"Xa Ya Xb Yb Xc Yc"</b>), conforme o exemplo:<br>
<pre>5
0.0  0.0  0.0  1.0  1.0  0.0
0.0  0.0  0.0  0.1  0.1  0.0
2.0  2.0  3.0  2.0  2.5  3.0
2.0  2.0  2.1  2.0  2.05 2.1
8.0  1.0  7.0  3.0  2.0  1.0
</pre>

Escreva um programa que:
<ul>
<li><u>Aloque</u> dinamicamente um vetor de estruturas (triângulos) e preencha-o
com os valores lidos do arquivo "entrada.txt".</li>
<li><u>Crie</u> um arquivo <u>texto</u> "saida.txt" que contém somente os dados dos
triângulos com perímetro &gt; 0.5.<br>
<u>Obs:</u> A primeira linha do arquivo deve conter o <u>número de registros</u> e as
demais os dados (um registro por linha).</li>
<li><u>Desaloque</u> o vetor e <u>feche</u> os arquivos.</li>
</ul>
Exemplo do arquivo "saida.txt":<br>
<pre>3
0.00 0.00 0.00 1.00 1.00 0.00
2.00 2.00 3.00 2.00 2.50 3.00
8.00 1.00 7.00 3.00 2.00 1.00
</pre>

<p>
<b>Solução:</b>
</p><p>

  </p><div><div id="highlighter_902700" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c preprocessor">#include &lt;stdio.h&gt;</code></div><div class="line number2 index1 alt1"><code class="c preprocessor">#include &lt;stdlib.h&gt;</code></div><div class="line number3 index2 alt2"><code class="c preprocessor">#include &lt;math.h&gt;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="c comments">/* Inserir nesse ponto o código das funções e as definições de estruturas do problema anterior */</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="c color1 bold">int</code> <code class="c plain">main(){</code></div><div class="line number9 index8 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">FILE</code> <code class="c plain">*fp = NULL;</code></div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">Triangulo *T = NULL;</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">n, nn = 0, i;</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">fp = </code><code class="c functions bold">fopen</code><code class="c plain">(</code><code class="c string">"entrada.txt"</code><code class="c plain">, </code><code class="c string">"r"</code><code class="c plain">);</code></div><div class="line number14 index13 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(fp == NULL){</code></div><div class="line number15 index14 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"Erro na leitura do arquivo.\n"</code><code class="c plain">);</code></div><div class="line number16 index15 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">exit</code><code class="c plain">(1);</code></div><div class="line number17 index16 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number18 index17 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">fscanf</code><code class="c plain">(fp, </code><code class="c string">"%d"</code><code class="c plain">, &amp;n);</code></div><div class="line number19 index18 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">T = (</code><code class="c keyword bold">struct</code> <code class="c plain">Triangulo *)</code><code class="c functions bold">malloc</code><code class="c plain">(n*</code><code class="c keyword bold">sizeof</code><code class="c plain">(</code><code class="c keyword bold">struct</code> <code class="c plain">Triangulo));</code></div><div class="line number20 index19 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(T == NULL){</code></div><div class="line number21 index20 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"Memoria insuficiente.\n"</code><code class="c plain">);</code></div><div class="line number22 index21 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">exit</code><code class="c plain">(1);</code></div><div class="line number23 index22 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number24 index23 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">for</code><code class="c plain">(i = 0; i &lt; n; i++){</code></div><div class="line number25 index24 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">fscanf</code><code class="c plain">(fp, </code><code class="c string">"%f %f"</code><code class="c plain">, &amp;(T[i].A.x), &amp;(T[i].A.y));</code></div><div class="line number26 index25 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">fscanf</code><code class="c plain">(fp, </code><code class="c string">"%f %f"</code><code class="c plain">, &amp;(T[i].B.x), &amp;(T[i].B.y));</code></div><div class="line number27 index26 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">fscanf</code><code class="c plain">(fp, </code><code class="c string">"%f %f"</code><code class="c plain">, &amp;(T[i].C.x), &amp;(T[i].C.y));</code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">( Perimetro(T[i]) &gt; 0.5 ) nn++;</code></div><div class="line number30 index29 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number31 index30 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">fclose</code><code class="c plain">(fp);</code></div><div class="line number32 index31 alt1">&nbsp;</div><div class="line number33 index32 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">fp = </code><code class="c functions bold">fopen</code><code class="c plain">(</code><code class="c string">"saida.txt"</code><code class="c plain">, </code><code class="c string">"w"</code><code class="c plain">);</code></div><div class="line number34 index33 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">fprintf</code><code class="c plain">(fp, </code><code class="c string">"%d\n"</code><code class="c plain">, nn);</code></div><div class="line number35 index34 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">for</code><code class="c plain">(i = 0; i &lt; n; i++){</code></div><div class="line number36 index35 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">( Perimetro(T[i]) &gt; 0.5 ){</code></div><div class="line number37 index36 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">fprintf</code><code class="c plain">(fp, </code><code class="c string">"%.2f %.2f "</code><code class="c plain">,&nbsp; T[i].A.x, T[i].A.y);</code></div><div class="line number38 index37 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">fprintf</code><code class="c plain">(fp, </code><code class="c string">"%.2f %.2f "</code><code class="c plain">,&nbsp; T[i].B.x, T[i].B.y);</code></div><div class="line number39 index38 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">fprintf</code><code class="c plain">(fp, </code><code class="c string">"%.2f %.2f\n"</code><code class="c plain">, T[i].C.x, T[i].C.y);</code></div><div class="line number40 index39 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number41 index40 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number42 index41 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">fclose</code><code class="c plain">(fp);</code></div><div class="line number43 index42 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">free</code><code class="c plain">(T);</code></div><div class="line number44 index43 alt1">&nbsp;</div><div class="line number45 index44 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">0;</code></div><div class="line number46 index45 alt1"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>
  

<h3>Exercícios resolvidos sobre Estruturas &amp; Arquivos (modo texto e binário)</h3>  

<div id="rcorners1">
<h3>Problema 1:</h3>

Faça um programa em C que leia uma planilha de alunos de um arquivo texto "alunos.txt",
sendo que o número total de alunos está indicado na primeira linha do arquivo
e nas demais linhas temos um registro de aluno por linha no formato <a href="https://pt.wikipedia.org/wiki/Comma-separated_values">CSV</a>,
 no qual o caracter separador é a vírgula (,).
Os dados devem ser lidos em um vetor de estruturas de alunos alocado 
dinamicamente.
Os dados dos alunos devem então ser impressos e o vetor de estruturas 
deve ser gravado no disco em modo binário no arquivo "saida.bin".
Cada registro de aluno deve conter seu nome (string), número usp 
(inteiro), coeficiente de rendimento (real) e sexo (caractere). Um 
exemplo de arquivo é indicado abaixo:
<p>
<img src="aulas_mac122_files/alunos_texto.png" alt="libreoffice_a" style="height:200px;">
</p><p>

</p><p>
<b>Solução:</b>
</p><p>


  </p><div><div id="highlighter_952747" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c preprocessor">#include &lt;stdio.h&gt;</code></div><div class="line number2 index1 alt1"><code class="c preprocessor">#include &lt;stdlib.h&gt;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="c keyword bold">struct</code> <code class="c plain">Aluno{</code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">nome[100];</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">n_usp;</code></div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">float</code> <code class="c plain">cr;</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">sexo;</code></div><div class="line number9 index8 alt2"><code class="c plain">};</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="c keyword bold">void</code> <code class="c plain">ImprimeAluno(</code><code class="c keyword bold">struct</code> <code class="c plain">Aluno A){</code></div><div class="line number12 index11 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"Nome: %s, "</code><code class="c plain">, A.nome);</code></div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"NUSP: %d, "</code><code class="c plain">, A.n_usp);</code></div><div class="line number14 index13 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"CR: %.2f, "</code><code class="c plain">, A.cr);</code></div><div class="line number15 index14 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"Sexo: %c\n"</code><code class="c plain">, A.sexo);</code></div><div class="line number16 index15 alt1"><code class="c plain">}</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="c color1 bold">int</code> <code class="c plain">main(){</code></div><div class="line number19 index18 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">arquivo[100];</code></div><div class="line number20 index19 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">FILE</code> <code class="c plain">*fp;</code></div><div class="line number21 index20 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">nalunos, i;</code></div><div class="line number22 index21 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">Aluno *V;</code></div><div class="line number23 index22 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"Digite o nome do arquivo: "</code><code class="c plain">);</code></div><div class="line number24 index23 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">scanf</code><code class="c plain">(</code><code class="c string">"%s"</code><code class="c plain">, arquivo);</code></div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">fp = </code><code class="c functions bold">fopen</code><code class="c plain">(arquivo, </code><code class="c string">"r"</code><code class="c plain">);</code></div><div class="line number27 index26 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">fscanf</code><code class="c plain">(fp, </code><code class="c string">"%d"</code><code class="c plain">, &amp;nalunos);</code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">V = (</code><code class="c keyword bold">struct</code> <code class="c plain">Aluno *)</code><code class="c functions bold">malloc</code><code class="c plain">(</code><code class="c keyword bold">sizeof</code><code class="c plain">(</code><code class="c keyword bold">struct</code> <code class="c plain">Aluno)*nalunos);</code></div><div class="line number30 index29 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">for</code><code class="c plain">(i = 0; i &lt; nalunos; i++){</code></div><div class="line number31 index30 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">fscanf</code><code class="c plain">(fp, </code><code class="c string">" %[^,],"</code><code class="c plain">, V[i].nome);</code></div><div class="line number32 index31 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">fscanf</code><code class="c plain">(fp, </code><code class="c string">"%d,"</code><code class="c plain">, &amp;V[i].n_usp);</code></div><div class="line number33 index32 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">fscanf</code><code class="c plain">(fp, </code><code class="c string">"%f,"</code><code class="c plain">, &amp;V[i].cr);</code></div><div class="line number34 index33 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">fscanf</code><code class="c plain">(fp, </code><code class="c string">" %c"</code><code class="c plain">, &amp;V[i].sexo);</code></div><div class="line number35 index34 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number36 index35 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">fclose</code><code class="c plain">(fp);</code></div><div class="line number37 index36 alt2">&nbsp;</div><div class="line number38 index37 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">for</code><code class="c plain">(i = 0; i &lt; nalunos; i++)</code></div><div class="line number39 index38 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">ImprimeAluno(V[i]);</code></div><div class="line number40 index39 alt1">&nbsp;</div><div class="line number41 index40 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">fp = </code><code class="c functions bold">fopen</code><code class="c plain">(</code><code class="c string">"saida.bin"</code><code class="c plain">, </code><code class="c string">"wb"</code><code class="c plain">);</code></div><div class="line number42 index41 alt1">&nbsp;</div><div class="line number43 index42 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">fwrite</code><code class="c plain">(V, </code><code class="c keyword bold">sizeof</code><code class="c plain">(</code><code class="c keyword bold">struct</code> <code class="c plain">Aluno), nalunos, fp);</code></div><div class="line number44 index43 alt1">&nbsp;</div><div class="line number45 index44 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">fclose</code><code class="c plain">(fp);</code></div><div class="line number46 index45 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">free</code><code class="c plain">(V);</code></div><div class="line number47 index46 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">0;</code></div><div class="line number48 index47 alt1"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>  
  
<b>Curiosidade:</b>
Arquivos no formato CSV são reconhecidos pelo OpenOffice/LibreOffice e 
programas similares. Abaixo mostramos o arquivo de entrada do exemplo 
sendo aberto no LibreOffice:  

<table>
<tbody><tr><td><img src="aulas_mac122_files/libreoffice_a.png" alt="libreoffice_a" style="height:200px;"></td>
    <td><img src="aulas_mac122_files/libreoffice_b.png" alt="libreoffice_b" style="height:200px;"></td>
</tr>
</tbody></table>
</div>

</div>


<p>

  
</p><div id="rcorners2">
<h2 id="A6">Estruturas ligadas</h2>

<a href="http://www.vision.ime.usp.br/~pmiranda/mac122_2s18/page/estruturas_lig.pdf">Slides</a>


<h3>1. Exemplo de código simples usando estruturas ligadas:</h3>

<div id="rcorners1">
O seguinte programa ilustra a criação de
uma lista de estruturas, ligadas através de um campo apontador
presente nas estruturas.
Cada estrutura armazena um número inteiro.
No exemplo, os números de 0 a 3 são inseridos na lista.
Como as inserções são sempre feitas no início da lista,
os números ficam armazenados em ordem invertida.
Em seguida, o programa imprime os números
e depois libera a memória da lista.

  <div><div id="highlighter_157309" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c preprocessor">#include &lt;stdio.h&gt;</code></div><div class="line number2 index1 alt1"><code class="c preprocessor">#include &lt;stdlib.h&gt;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="c keyword bold">struct</code> <code class="c plain">bloco{</code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">num;</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">bloco *prox;</code></div><div class="line number7 index6 alt2"><code class="c plain">};</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="c keyword bold">void</code> <code class="c plain">ImprimeLista(</code><code class="c keyword bold">struct</code> <code class="c plain">bloco *L){</code></div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">bloco *T = L;</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(T != NULL){</code></div><div class="line number12 index11 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">" %d "</code><code class="c plain">,T-&gt;num);</code></div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">T = T-&gt;prox;</code></div><div class="line number14 index13 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number15 index14 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"\n"</code><code class="c plain">);</code></div><div class="line number16 index15 alt1"><code class="c plain">}</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="c keyword bold">void</code> <code class="c plain">LiberaLista(</code><code class="c keyword bold">struct</code> <code class="c plain">bloco *L){</code></div><div class="line number19 index18 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">bloco *T,*P;</code></div><div class="line number20 index19 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">T = L;</code></div><div class="line number21 index20 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(T != NULL){</code></div><div class="line number22 index21 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">P = T-&gt;prox;</code></div><div class="line number23 index22 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">free</code><code class="c plain">(T);</code></div><div class="line number24 index23 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">T = P;</code></div><div class="line number25 index24 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number26 index25 alt1"><code class="c plain">}</code></div><div class="line number27 index26 alt2">&nbsp;</div><div class="line number28 index27 alt1"><code class="c color1 bold">int</code> <code class="c plain">main(){</code></div><div class="line number29 index28 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">bloco *L = NULL;</code></div><div class="line number30 index29 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">bloco *N;</code></div><div class="line number31 index30 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">i;</code></div><div class="line number32 index31 alt1">&nbsp;</div><div class="line number33 index32 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Aloca lista ligada */</code></div><div class="line number34 index33 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">for</code><code class="c plain">(i = 0; i&lt;= 3; i++){</code></div><div class="line number35 index34 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">N = (</code><code class="c keyword bold">struct</code> <code class="c plain">bloco *)</code><code class="c functions bold">malloc</code><code class="c plain">(</code><code class="c keyword bold">sizeof</code><code class="c plain">(</code><code class="c keyword bold">struct</code> <code class="c plain">bloco));</code></div><div class="line number36 index35 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">N-&gt;num = i;</code></div><div class="line number37 index36 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">N-&gt;prox = L;</code></div><div class="line number38 index37 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">L = N;</code></div><div class="line number39 index38 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number40 index39 alt1">&nbsp;</div><div class="line number41 index40 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Imprime elementos da lista */</code></div><div class="line number42 index41 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">ImprimeLista(L);</code></div><div class="line number43 index42 alt2">&nbsp;</div><div class="line number44 index43 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Libera a memória utilizada pela lista */</code></div><div class="line number45 index44 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">LiberaLista(L);</code></div><div class="line number46 index45 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">0;</code></div><div class="line number47 index46 alt2"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>

<p>

</p><h3 id="POLINOMIO">2. Exemplo de aplicação: Manipulação de polinômios</h3>

<div id="rcorners1">
Exemplo de manipulação de polinômios de grau n&#8805;0.
<p>
P(x) = a<sub>n</sub> x<sup>n</sup> + a<sub>n-1</sub> x<sup>n-1</sup> + ... + a<sub>1</sub> x<sup>1</sup> + a<sub>0</sub> x<sup>0</sup>
</p><p>
A solução a seguir usa listas circulares com nócabeça, 
a fim de utilizar a técnica de sentinelas. Consideramos que:
</p><ol>
<li>Cada nó representa um termo com coeficiente não nulo;</li>
<li>Os termos estão em ordem decrescente dos expoentes;</li>
<li>O nócabeça tem expoente 1 (conveniente para as operações).</li>
</ol> 

<h3>Definição típica da estrutura utilizada:</h3>

  <div><div id="highlighter_507469" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c keyword bold">struct</code> <code class="c plain">Termo{</code></div><div class="line number2 index1 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">float</code> <code class="c plain">coef;</code></div><div class="line number3 index2 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">expo;</code></div><div class="line number4 index3 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">Termo *prox;</code></div><div class="line number5 index4 alt2"><code class="c plain">};</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="c keyword bold">typedef</code> <code class="c keyword bold">struct</code> <code class="c plain">Termo* Polinomio;</code></div></div></td></tr></tbody></table></div></div>
</div>

<p>

</p><div id="rcorners1">
<h3>Alocando memória:</h3>

A função abaixo aloca dinamicamente memória para um dos termos do polinômio.

  <div><div id="highlighter_462370" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c keyword bold">struct</code> <code class="c plain">Termo *AlocaTermo(){</code></div><div class="line number2 index1 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">Termo *p;</code></div><div class="line number3 index2 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">p = (</code><code class="c keyword bold">struct</code> <code class="c plain">Termo*)</code><code class="c functions bold">malloc</code><code class="c plain">(</code><code class="c keyword bold">sizeof</code><code class="c plain">(</code><code class="c keyword bold">struct</code> <code class="c plain">Termo));</code></div><div class="line number4 index3 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(p == NULL)</code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">exit</code><code class="c plain">(1);</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">p;</code></div><div class="line number7 index6 alt2"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>

Para criar um polinômio nulo,
alocamos o nócabeça
com expoente 1:

  <div><div id="highlighter_327537" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c plain">Polinomio CriaPolinomioNulo(){</code></div><div class="line number2 index1 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">Polinomio p;</code></div><div class="line number3 index2 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">p = AlocaTermo();</code></div><div class="line number4 index3 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">p-&gt;coef = 0.0;</code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">p-&gt;expo = -1;</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">p-&gt;prox = p;</code></div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">p;</code></div><div class="line number8 index7 alt1"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>

<p>

</p><div id="rcorners1">
<h3>Inserindo novo termo no polinômio:</h3>

Dado que os termos estão em ordem decrescente dos expoentes,
precisamos buscar a posição correta para efetuar
a inserção.

  <div><div id="highlighter_185282" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c keyword bold">void</code> <code class="c plain">InsereTermo(Polinomio p, </code><code class="c color1 bold">float</code> <code class="c plain">coef, </code><code class="c color1 bold">int</code> <code class="c plain">expo){</code></div><div class="line number2 index1 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">Termo *t, *at,*q;</code></div><div class="line number3 index2 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Aloca memória para o novo termo: */</code></div><div class="line number4 index3 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">q = AlocaTermo();</code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">q-&gt;coef = coef;</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">q-&gt;expo = expo;</code></div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Busca a posição correta para inserir o novo termo,</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c comments">O novo termo será inserido entre os termos apontados </code></div><div class="line number9 index8 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c comments">por at e t.</code></div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">*/</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">at = p;</code></div><div class="line number12 index11 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">t = p-&gt;prox;</code></div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(expo &lt; t-&gt;expo){</code></div><div class="line number14 index13 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">at = t;</code></div><div class="line number15 index14 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">t = t-&gt;prox;</code></div><div class="line number16 index15 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number17 index16 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">q-&gt;prox = t;</code></div><div class="line number18 index17 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">at-&gt;prox = q;</code></div><div class="line number19 index18 alt2"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>

<p>

</p><div id="rcorners1">
<h3>Imprimindo o polinômio:</h3>

Exemplo de função que imprime o polinômio.


  <div><div id="highlighter_718429" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c keyword bold">void</code> <code class="c plain">ImprimePolinomio(Polinomio p){</code></div><div class="line number2 index1 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">Termo *t;</code></div><div class="line number3 index2 alt2"><code class="c spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number4 index3 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">t = p-&gt;prox;</code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(t != p){</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"%.2f*x^%d"</code><code class="c plain">,t-&gt;coef,t-&gt;expo);</code></div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">t = t-&gt;prox;</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(t != p){</code></div><div class="line number9 index8 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(t-&gt;coef &gt;= 0.0)</code></div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"+"</code><code class="c plain">);</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number12 index11 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"\n"</code><code class="c plain">);</code></div><div class="line number14 index13 alt1"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>

<p>

</p><div id="rcorners1">
<h3>Criando um novo polinômio a partir de uma expressão (string):</h3>

A função abaixo lê expressões matemáticas em strings como "5.0*x^4 + 
7.5*x^2 + 3.0*x^1", e gera a lista circular com nócabeça do polinômio 
correspondente.<br>
Ao invés de ler a expressão caracter por caracter, no código
abaixo usamos a função <b><code>sscanf</code></b>. 
A função <b><code>sscanf</code></b>
é similar a função  <b><code>scanf</code></b>,
porém, ao invés de ler a entrada padrão (teclado),
ela lê os dados diretamente de uma string (vetor), que é 
passada como o primeiro parâmetro do método.
O <b><code>"%n"</code></b> é usado para monitorar
a quantidade de caracteres lidos a cada execução 
do <b><code>sscanf</code></b>.
A variável <b><code>nn</code></b> é
usada como um contador (acumulador) do total de 
caracteres lidos. O valor de <b><code>nn</code></b> 
é utilizado como
índice na expressão,
permitindo avançar pela string
a cada chamada do <b><code>sscanf</code></b>.
Para isso, usamos a aritmética de ponteiros
<b><code>expr+nn</code></b>.

  <div><div id="highlighter_606474" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c plain">Polinomio CriaPolinomio(</code><code class="c color1 bold">char</code> <code class="c plain">expr[]){</code></div><div class="line number2 index1 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">Polinomio p;</code></div><div class="line number3 index2 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">expo,r,n,nn;</code></div><div class="line number4 index3 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">float</code> <code class="c plain">coef,sinal = 1.0;</code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">c;</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">nn = 0;</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">p = CriaPolinomioNulo();</code></div><div class="line number9 index8 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(1){</code></div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">r = </code><code class="c functions bold">sscanf</code><code class="c plain">(expr+nn,</code><code class="c string">" %f * x ^ %d %n"</code><code class="c plain">,&amp;coef, &amp;expo,&amp;n);</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(r == 0 || r == EOF) </code></div><div class="line number12 index11 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">break</code><code class="c plain">;</code></div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">nn += n;</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">InsereTermo(p, sinal*coef, expo);</code></div><div class="line number16 index15 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number17 index16 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">r = </code><code class="c functions bold">sscanf</code><code class="c plain">(expr+nn,</code><code class="c string">"%c %n"</code><code class="c plain">,&amp;c,&amp;n);</code></div><div class="line number18 index17 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(r == EOF || r == 0)</code></div><div class="line number19 index18 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">break</code><code class="c plain">;</code></div><div class="line number20 index19 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">nn += n;</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(c == </code><code class="c string">'-'</code><code class="c plain">)</code></div><div class="line number23 index22 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">sinal = -1.0;</code></div><div class="line number24 index23 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">else</code></div><div class="line number25 index24 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">sinal = 1.0;</code></div><div class="line number26 index25 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number27 index26 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">p;</code></div><div class="line number28 index27 alt1"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>

<p>

</p><div id="rcorners1">
<h3>Somando dois polinômios:</h3>

Exemplo de função que soma dois polinômios.
Ela percorre simultaneamente as duas listas somando 
os termos com expoentes iguais e copiando de modo 
intercalado aqueles que não tem correspondente no outro.


  <div><div id="highlighter_156758" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c plain">Polinomio SomaPolinomios(Polinomio p,</code></div><div class="line number2 index1 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">Polinomio q){</code></div><div class="line number3 index2 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">Polinomio r;</code></div><div class="line number4 index3 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">Termo *pp, *qq, *rr;</code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">float</code> <code class="c plain">cf;</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">r = CriaPolinomioNulo();</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">rr = r;</code></div><div class="line number9 index8 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">pp = p-&gt;prox;</code></div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">qq = q-&gt;prox;</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(pp-&gt;expo &gt; -1 || qq-&gt;expo &gt; -1){</code></div><div class="line number12 index11 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(pp-&gt;expo &lt; qq-&gt;expo){</code></div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">InsereTermo(rr, qq-&gt;coef, qq-&gt;expo);</code></div><div class="line number14 index13 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">rr = rr-&gt;prox;</code></div><div class="line number15 index14 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">qq = qq-&gt;prox;</code></div><div class="line number16 index15 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number17 index16 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">else</code> <code class="c keyword bold">if</code><code class="c plain">(qq-&gt;expo &lt; pp-&gt;expo){</code></div><div class="line number18 index17 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">InsereTermo(rr, pp-&gt;coef, pp-&gt;expo);</code></div><div class="line number19 index18 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">rr = rr-&gt;prox;</code></div><div class="line number20 index19 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">pp = pp-&gt;prox;</code></div><div class="line number21 index20 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number22 index21 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">else</code><code class="c plain">{ </code><code class="c comments">/* pp-&gt;expo == qq-&gt;expo */</code></div><div class="line number23 index22 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">cf = pp-&gt;coef + qq-&gt;coef;</code></div><div class="line number24 index23 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(cf != 0.0){</code></div><div class="line number25 index24 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">InsereTermo(rr, cf, pp-&gt;expo);</code></div><div class="line number26 index25 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">rr = rr-&gt;prox;</code></div><div class="line number27 index26 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number28 index27 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">pp = pp-&gt;prox;</code></div><div class="line number29 index28 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">qq = qq-&gt;prox;</code></div><div class="line number30 index29 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number31 index30 alt2">&nbsp;</div><div class="line number32 index31 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number33 index32 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">r;</code></div><div class="line number34 index33 alt1"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>

<p>

</p><div id="rcorners1">
<h3>Programa principal:</h3>

Exemplo de programa principal que
chama as funções
anteriores.


  <div><div id="highlighter_698257" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c color1 bold">int</code> <code class="c plain">main(){</code></div><div class="line number2 index1 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">Polinomio p,q,r;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">p = CriaPolinomio(</code><code class="c string">"5.0*x^3 -4.0*x^1 + 2.0*x^0"</code><code class="c plain">);&nbsp; </code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">ImprimePolinomio(p);</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">q = CriaPolinomio(</code><code class="c string">"&nbsp; 8.0*x^4 + 2.0*x^3 + 4.0*x^1"</code><code class="c plain">);</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">ImprimePolinomio(q);</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">r = SomaPolinomios(p, q);</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">ImprimePolinomio(r);</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">0;</code></div><div class="line number14 index13 alt1"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>  


<h3>Exercícios resolvidos sobre Estruturas Ligadas</h3>  

<div id="rcorners1">
<h3>Problema 1:</h3>

Faça uma função que inverte uma lista simples de estruturas ligadas, 
contendo um campo apontador e um campo que armazena um número inteiro, 
alterando somente os campos dos apontadores. A função deve devolver o 
novo início da lista.

<p>
<b>Solução:</b>
</p><p>

  </p><div><div id="highlighter_963103" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c keyword bold">struct</code> <code class="c plain">Reg{</code></div><div class="line number2 index1 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">dado;</code></div><div class="line number3 index2 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">Reg *prox;</code></div><div class="line number4 index3 alt1"><code class="c plain">};</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="c keyword bold">struct</code> <code class="c plain">Reg *InverteLista(</code><code class="c keyword bold">struct</code> <code class="c plain">Reg *L){</code></div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">Reg *T, *A;</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">A = NULL;</code></div><div class="line number9 index8 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">T = L;</code></div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(T != NULL){</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">L = L-&gt;prox;</code></div><div class="line number12 index11 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">T-&gt;prox = A;</code></div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">A = T;</code></div><div class="line number14 index13 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">T = L;</code></div><div class="line number15 index14 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number16 index15 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">A;</code></div><div class="line number17 index16 alt2"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>


<h3>Programa principal:</h3>

Exemplo de programa principal que chama a função anterior.

  <div><div id="highlighter_2022" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c color1 bold">int</code> <code class="c plain">main(){</code></div><div class="line number2 index1 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">Reg *L = NULL, *N;</code></div><div class="line number3 index2 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">i;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Criando uma lista para teste: */</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">for</code><code class="c plain">(i = 0; i &lt; 4; i++){</code></div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">N = (</code><code class="c keyword bold">struct</code> <code class="c plain">Reg *)</code><code class="c functions bold">malloc</code><code class="c plain">(</code><code class="c keyword bold">sizeof</code><code class="c plain">(</code><code class="c keyword bold">struct</code> <code class="c plain">Reg));</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">N-&gt;dado = i;</code></div><div class="line number9 index8 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">N-&gt;prox = L;</code></div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">L = N;</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"Invertendo a lista: \n"</code><code class="c plain">);</code></div><div class="line number14 index13 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">L = InverteLista(L);</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">0;</code></div><div class="line number17 index16 alt2"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>
</div>


<br>

  <script src="aulas_mac122_files/shCore.js"></script>
  <script src="aulas_mac122_files/shBrushCpp.js"></script>
  <script>
    SyntaxHighlighter.all()
  </script>




</body></html>